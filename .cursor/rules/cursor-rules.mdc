---
alwaysApply: true
---
# PASCS Frontend Development Guidelines

**Dá»± Ã¡n:** Public Administrative Service Consultation System (PASCS)  
**Tech Stack:** Next.js 15 + React 19 + TypeScript + TailwindCSS  
**Má»¥c tiÃªu:** Äáº£m báº£o code nháº¥t quÃ¡n, dá»… maintain vÃ  scalable

---

## ğŸ¯ Rules

### 1. **NgÃ´n Ngá»¯ & Documentation**
- âœ… ToÃ n bá»™ UI content vÃ  user messages pháº£i báº±ng **Tiáº¿ng Viá»‡t**
- âœ… Code comments vÃ  technical docs cÃ³ thá»ƒ dÃ¹ng Tiáº¿ng Anh
- âœ… Variable/function names dÃ¹ng Tiáº¿ng Anh theo convention

### 2. **Architecture Principles**
- âœ… **Module-based Structure**: Má»—i feature lÃ  má»™t module Ä‘á»™c láº­p
- âœ… **Separation of Concerns**: TÃ¡ch biá»‡t UI, Logic, Data
- âœ… **Component Composition**: Chia nhá» components, má»—i component má»™t nhiá»‡m vá»¥
- âœ… **Custom Hooks**: TÃ¡ch logic phá»©c táº¡p ra khá»i UI components
- âœ… **Type Safety**: TypeScript strict mode, trÃ¡nh `any`

### 3. **No Hardcoding**
- âŒ KhÃ´ng hardcode API URLs
- âŒ KhÃ´ng hardcode business logic trong components
- âŒ KhÃ´ng hardcode constants trong code
- âœ… DÃ¹ng centralized configuration (`@core/config/`)

---

## ğŸ“ Cáº¥u TrÃºc Project

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (client)/                 # Public routes vá»›i layout
â”‚   â”œâ”€â”€ (private)/                # Protected routes
â”‚   â”œâ”€â”€ (auth)/                   # Auth pages (login, register)
â”‚   â”œâ”€â”€ api/                      # API routes (Next.js API handlers)
â”‚   â”œâ”€â”€ layout.tsx                # Root layout vá»›i providers
â”‚   â””â”€â”€ globals.css               # Global styles
â”‚
â”œâ”€â”€ core/                         # Core infrastructure
â”‚   â”œâ”€â”€ config/                   # Configuration files
â”‚   â”‚   â”œâ”€â”€ api.path.ts          # Centralized API endpoints
â”‚   â”‚   â”œâ”€â”€ constants.ts         # Global constants
â”‚   â”‚   â”œâ”€â”€ env.ts               # Environment variables
â”‚   â”‚   â””â”€â”€ aws.config.ts        # AWS S3 config
â”‚   â”œâ”€â”€ http/                     # HTTP client
â”‚   â”‚   â””â”€â”€ client.ts            # Axios instance vá»›i interceptors
â”‚   â”œâ”€â”€ patterns/                 # Design patterns
â”‚   â”‚   â””â”€â”€ SingletonHook.ts     # Singleton pattern (Toast, etc.)
â”‚   â”œâ”€â”€ services/                 # Core services
â”‚   â”‚   â””â”€â”€ upload.service.ts    # File upload service
â”‚   â””â”€â”€ stores/                   # Global state stores
â”‚
â”œâ”€â”€ modules/                      # Feature modules
â”‚   â””â”€â”€ <feature>/               # Feature-specific code
â”‚       â”œâ”€â”€ api/                 # HTTP API calls
â”‚       â”‚   â””â”€â”€ <feature>.api.ts
â”‚       â”œâ”€â”€ components/          # UI Components
â”‚       â”‚   â”œâ”€â”€ view/           # Page components
â”‚       â”‚   â”‚   â””â”€â”€ <Feature>ListPage.ui.tsx
â”‚       â”‚   â””â”€â”€ ui/             # Reusable UI components
â”‚       â”‚       â”œâ”€â”€ header/     # Header components
â”‚       â”‚       â”œâ”€â”€ filter/     # Filter components
â”‚       â”‚       â”œâ”€â”€ table/      # Table components
â”‚       â”‚       â”œâ”€â”€ modal/      # Modal components
â”‚       â”‚       â”œâ”€â”€ detail/     # Detail view components
â”‚       â”‚       â”œâ”€â”€ pagination/ # Pagination components
â”‚       â”‚       â””â”€â”€ index.ts    # Barrel export
â”‚       â”œâ”€â”€ services/            # Business logic
â”‚       â”‚   â””â”€â”€ <feature>.service.ts
â”‚       â”œâ”€â”€ hooks/               # Feature hooks
â”‚       â”‚   â”œâ”€â”€ index.ts        # React Query hooks
â”‚       â”‚   â””â”€â”€ use<Feature>Form.ts  # Form hooks
â”‚       â”œâ”€â”€ types/               # TypeScript types
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â”œâ”€â”€ constants/           # Feature constants
â”‚       â”œâ”€â”€ enums/               # Feature enums
â”‚       â”œâ”€â”€ utils/               # Feature utilities
â”‚       â””â”€â”€ index.ts             # Module exports
â”‚
â””â”€â”€ shared/                       # Shared code
    â”œâ”€â”€ components/              # Shared components
    â”‚   â”œâ”€â”€ common/             # Common UI components
    â”‚   â”œâ”€â”€ forms/              # Form components
    â”‚   â”œâ”€â”€ layout/             # Layout components
    â”‚   â”œâ”€â”€ manager/            # Manager-specific components
    â”‚   â””â”€â”€ ui/                 # Base UI primitives
    â”œâ”€â”€ hooks/                   # Shared hooks
    â”œâ”€â”€ lib/                     # Utilities & helpers
    â”œâ”€â”€ providers/               # React context providers
    â””â”€â”€ types/                   # Shared TypeScript types
```

---

## ğŸ—ï¸ Module Structure Pattern

### 1. **Cáº¥u TrÃºc Module Chuáº©n**

Khi táº¡o feature má»›i, follow structure nÃ y:

```typescript
modules/<feature>/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ <feature>.api.ts         # Raw HTTP calls
â”œâ”€â”€ services/
â”‚   â””â”€â”€ <feature>.service.ts     # Business logic
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ view/
â”‚   â”‚   â””â”€â”€ <Feature>ListPage.ui.tsx    # Main page
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ header/
â”‚       â”œâ”€â”€ filter/
â”‚       â”œâ”€â”€ table/
â”‚       â”œâ”€â”€ modal/
â”‚       â”œâ”€â”€ detail/
â”‚       â”œâ”€â”€ pagination/
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ index.ts                 # React Query hooks
â”‚   â””â”€â”€ use<Feature>Form.ts      # Custom form hooks
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                 # TypeScript definitions
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ index.ts                 # Feature constants
â”œâ”€â”€ enums/
â”‚   â””â”€â”€ index.ts                 # Feature enums
â””â”€â”€ index.ts                     # Barrel export
```

### 2. **API Layer** (`api/`)

```typescript
// modules/<feature>/api/<feature>.api.ts
import { http } from '@core/http/client';
import { API_PATH } from '@core/config/api.path';
import type { RestResponse, RestMany } from '@/types/rest';
import type { CreateRequest, UpdateRequest, Filters } from '../types';

export const featureApi = {
  // GET list vá»›i filters
  getList: (filters: Filters) => {
    return http.get<RestMany<FeatureType>>(
      API_PATH.FEATURE.LIST,
      { params: filters }
    );
  },

  // GET detail by ID
  getById: (id: string) => {
    return http.get<RestResponse<FeatureType>>(
      `${API_PATH.FEATURE.DETAIL}/${id}`
    );
  },

  // POST create
  create: (data: CreateRequest) => {
    return http.post<RestResponse<FeatureType>>(
      API_PATH.FEATURE.CREATE,
      data
    );
  },

  // PUT update
  update: (id: string, data: UpdateRequest) => {
    return http.put<RestResponse<FeatureType>>(
      `${API_PATH.FEATURE.UPDATE}/${id}`,
      data
    );
  },

  // DELETE
  delete: (id: string) => {
    return http.delete<RestResponse<void>>(
      `${API_PATH.FEATURE.DELETE}/${id}`
    );
  },
};
```

### 3. **Service Layer** (`services/`)

```typescript
// modules/<feature>/services/<feature>.service.ts
import { featureApi } from '../api/<feature>.api';
import type { CreateRequest, UpdateRequest, Filters } from '../types';

export const featureService = {
  // Wrapper methods vá»›i business logic
  async getFeatureList(filters: Filters) {
    const response = await featureApi.getList(filters);
    // Add transformation, validation, etc.
    return response.data;
  },

  async getFeatureById(id: string) {
    const response = await featureApi.getById(id);
    return response.data;
  },

  async createFeature(data: CreateRequest) {
    // Add validation, preprocessing
    const response = await featureApi.create(data);
    return response.data;
  },

  async updateFeature(id: string, data: UpdateRequest) {
    const response = await featureApi.update(id, data);
    return response.data;
  },

  async deleteFeature(id: string) {
    const response = await featureApi.delete(id);
    return response.data;
  },
};
```

### 4. **Types** (`types/`)

```typescript
// modules/<feature>/types/index.ts

// Main entity type
export type FeatureType = {
  id: string;
  name: string;
  description: string;
  isActive: boolean;
  createdAt: string | Date;
  modifiedAt?: string | Date;
  // ... other fields
};

// Request types
export type CreateFeatureRequest = Omit<FeatureType, 'id' | 'createdAt' | 'modifiedAt'>;

export type UpdateFeatureRequest = {
  id: string;
} & CreateFeatureRequest;

// Filter types
export type FeatureFilters = {
  keyword?: string;
  isActive?: boolean;
  page?: number;
  size?: number;
};
```

### 5. **React Query Hooks** (`hooks/index.ts`)

```typescript
// modules/<feature>/hooks/index.ts
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';
import { featureService } from '../services/<feature>.service';
import { QUERY_KEYS, CACHE_TIME, STALE_TIME } from '../constants';
import type { CreateRequest, UpdateRequest, Filters } from '../types';

// GET list hook
export const useFeatureList = (filters: Filters) => {
  return useQuery({
    queryKey: QUERY_KEYS.FEATURE_LIST(filters),
    queryFn: () => featureService.getFeatureList(filters),
    gcTime: CACHE_TIME,
    staleTime: STALE_TIME,
  });
};

// GET detail hook
export const useFeatureDetail = (id: string) => {
  return useQuery({
    queryKey: QUERY_KEYS.FEATURE_DETAIL(id),
    queryFn: () => featureService.getFeatureById(id),
    enabled: !!id,
  });
};

// CREATE mutation
export const useCreateFeature = () => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: (data: CreateRequest) => featureService.createFeature(data),
    onSuccess: () => {
      queryClient.invalidateQueries({ 
        queryKey: QUERY_KEYS.FEATURE_BASE 
      });
    },
  });
};

// UPDATE mutation
export const useUpdateFeature = () => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: ({ id, data }: { id: string; request: UpdateRequest }) =>
      featureService.updateFeature(id, data),
    onSuccess: () => {
      queryClient.invalidateQueries({ 
        queryKey: QUERY_KEYS.FEATURE_BASE 
      });
    },
  });
};

// DELETE mutation
export const useDeleteFeature = () => {
  const queryClient = useQueryClient();
  
  return useMutation({
    mutationFn: (id: string) => featureService.deleteFeature(id),
    onSuccess: () => {
      queryClient.invalidateQueries({ 
        queryKey: QUERY_KEYS.FEATURE_BASE 
      });
    },
  });
};
```

### 6. **Custom Form Hook** (`hooks/use<Feature>Form.ts`)

```typescript
// modules/<feature>/hooks/use<Feature>Form.ts
import { useEffect } from 'react';
import { useForm } from '@tanstack/react-form';
import { useGlobalToast } from '@core/patterns/SingletonHook';
import { useCreateFeature, useUpdateFeature } from './index';
import type { FeatureType, CreateRequest } from '../types';

type FormValues = {
  name: string;
  description: string;
  isActive: boolean;
  // ... form fields
};

interface UseFeatureFormProps {
  initData?: FeatureType | null;
  open: boolean;
  onSuccess?: () => void;
  onClose: () => void;
}

export const useFeatureForm = ({
  initData,
  open,
  onSuccess,
  onClose,
}: UseFeatureFormProps) => {
  const createMutation = useCreateFeature();
  const updateMutation = useUpdateFeature();
  const { addToast } = useGlobalToast();

  const toFormValues = (data?: Partial<FeatureType> | null): FormValues => ({
    name: data?.name ?? '',
    description: data?.description ?? '',
    isActive: data?.isActive ?? true,
    // ... map fields
  });

  const form = useForm({
    defaultValues: toFormValues(initData),
    onSubmit: async ({ value }) => {
      try {
        const request: CreateRequest = {
          name: value.name,
          description: value.description,
          isActive: value.isActive,
          // ... map request
        };

        if (initData?.id) {
          // Update
          const res = await updateMutation.mutateAsync({
            id: initData.id,
            request: { ...request, id: initData.id },
          });
          if (res?.success) {
            addToast({ message: 'Cáº­p nháº­t thÃ nh cÃ´ng', type: 'success' });
            onSuccess?.();
            onClose();
          }
        } else {
          // Create
          const res = await createMutation.mutateAsync(request);
          if (res?.success) {
            addToast({ message: 'Táº¡o má»›i thÃ nh cÃ´ng', type: 'success' });
            onSuccess?.();
            onClose();
          }
        }
      } catch (error) {
        console.error('Error:', error);
        addToast({ message: 'ÄÃ£ xáº£y ra lá»—i', type: 'error' });
      }
    },
  });

  useEffect(() => {
    if (open) {
      form.reset(toFormValues(initData));
    }
  }, [open, initData?.id]);

  return {
    form,
    isLoading: createMutation.isPending || updateMutation.isPending,
    handleSubmit: () => form.handleSubmit(),
  };
};
```

---

## ğŸ§© Component Patterns

### 1. **Component Naming Convention**

```typescript
// âœ… CORRECT - Component files end with .ui.tsx
components/
  â”œâ”€â”€ view/
  â”‚   â””â”€â”€ ServiceGroupListPage.ui.tsx     # Main page
  â””â”€â”€ ui/
      â”œâ”€â”€ header/
      â”‚   â””â”€â”€ ServiceGroupHeader.ui.tsx
      â”œâ”€â”€ filter/
      â”‚   â””â”€â”€ ServiceGroupFilter.ui.tsx
      â”œâ”€â”€ table/
      â”‚   â”œâ”€â”€ ServiceGroupTable.ui.tsx
      â”‚   â”œâ”€â”€ ServiceGroupTableHeader.ui.tsx
      â”‚   â””â”€â”€ ServiceGroupTableRow.ui.tsx
      â””â”€â”€ modal/
          â””â”€â”€ CreateServiceGroupModal.ui.tsx

// âŒ WRONG - Without .ui suffix
components/
  â””â”€â”€ ServiceGroupList.tsx
```

### 2. **Component Composition**

#### Main Page Component
```typescript
// components/view/<Feature>ListPage.ui.tsx
'use client';

import React, { useState } from 'react';
import { useFeatureList, useDeleteFeature } from '../../hooks';
import { 
  FeatureHeader, 
  FeatureFilter, 
  FeatureTable, 
  FeaturePagination,
  CreateFeatureModal,
  FeatureDetailModal,
} from '../ui';
import type { FeatureType } from '../../types';
import { useGlobalToast } from '@core/patterns/SingletonHook';
import { getValuesPage } from '@/types/rest';

export const FeatureListPage: React.FC = () => {
  // State management
  const [page, setPage] = useState(1);
  const [keyword, setKeyword] = useState('');
  const [isActive, setIsActive] = useState(true);
  const [modalOpen, setModalOpen] = useState(false);
  const [detailModalOpen, setDetailModalOpen] = useState(false);
  const [selectedItem, setSelectedItem] = useState<FeatureType | null>(null);

  // Data fetching
  const { data, isLoading, refetch } = useFeatureList({
    keyword,
    isActive,
    page,
    size: 10,
  });

  const deleteMutation = useDeleteFeature();
  const { addToast } = useGlobalToast();

  // Handlers
  const handleCreate = () => {
    setSelectedItem(null);
    setModalOpen(true);
  };

  const handleEdit = (item: FeatureType) => {
    setSelectedItem(item);
    setModalOpen(true);
  };

  const handleViewDetail = (item: FeatureType) => {
    setSelectedItem(item);
    setDetailModalOpen(true);
  };

  const handleDelete = async (id: string) => {
    if (!confirm('Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a?')) return;
    
    try {
      await deleteMutation.mutateAsync(id);
      addToast({ message: 'XÃ³a thÃ nh cÃ´ng', type: 'success' });
      refetch();
    } catch (error) {
      addToast({ message: 'XÃ³a tháº¥t báº¡i', type: 'error' });
    }
  };

  // Data processing
  const pageResult = data ? getValuesPage(data) : null;
  const items = pageResult?.items || [];
  const totalPages = pageResult?.totalPages || 1;

  return (
    <div className="p-6">
      <FeatureHeader onCreateClick={handleCreate} />
      
      <FeatureFilter
        keyword={keyword}
        onKeywordChange={setKeyword}
        isActive={isActive}
        onStatusChange={setIsActive}
      />

      <FeatureTable
        items={items}
        isLoading={isLoading}
        onView={handleViewDetail}
        onEdit={handleEdit}
        onDelete={handleDelete}
        isDeleting={deleteMutation.isPending}
      />

      <FeaturePagination
        currentPage={page}
        totalPages={totalPages}
        onPageChange={setPage}
      />

      <CreateFeatureModal
        open={modalOpen}
        onClose={() => setModalOpen(false)}
        initData={selectedItem}
        onSuccess={refetch}
      />

      <FeatureDetailModal
        open={detailModalOpen}
        onClose={() => setDetailModalOpen(false)}
        item={selectedItem}
      />
    </div>
  );
};
```

#### Header Component
```typescript
// components/ui/header/<Feature>Header.ui.tsx
'use client';

import React from 'react';

interface Props {
  onCreateClick: () => void;
}

export const FeatureHeader: React.FC<Props> = ({ onCreateClick }) => {
  return (
    <div className="mb-6 flex items-center justify-between">
      <h1 className="text-2xl font-bold text-slate-900">
        Quáº£n lÃ½ Feature
      </h1>
      <button
        onClick={onCreateClick}
        className="rounded-lg bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500"
      >
        + Táº¡o má»›i
      </button>
    </div>
  );
};
```

#### Filter Component
```typescript
// components/ui/filter/<Feature>Filter.ui.tsx
'use client';

import React from 'react';

interface Props {
  keyword: string;
  onKeywordChange: (value: string) => void;
  isActive: boolean;
  onStatusChange: (value: boolean) => void;
}

export const FeatureFilter: React.FC<Props> = ({
  keyword,
  onKeywordChange,
  isActive,
  onStatusChange,
}) => {
  return (
    <div className="mb-4 flex gap-4">
      <input
        type="text"
        placeholder="TÃ¬m kiáº¿m..."
        value={keyword}
        onChange={(e) => onKeywordChange(e.target.value)}
        className="flex-1 rounded-lg border border-slate-300 px-4 py-2"
      />
      <select
        value={String(isActive)}
        onChange={(e) => onStatusChange(e.target.value === 'true')}
        className="rounded-lg border border-slate-300 px-4 py-2"
      >
        <option value="true">Hoáº¡t Ä‘á»™ng</option>
        <option value="false">Ngá»«ng</option>
      </select>
    </div>
  );
};
```

#### Table Component
```typescript
// components/ui/table/<Feature>Table.ui.tsx
'use client';

import React from 'react';
import { FeatureTableHeader } from './FeatureTableHeader.ui';
import { FeatureTableRow } from './FeatureTableRow.ui';
import type { FeatureType } from '../../../types';

interface Props {
  items: FeatureType[];
  isLoading: boolean;
  onView: (item: FeatureType) => void;
  onEdit: (item: FeatureType) => void;
  onDelete: (id: string) => void;
  isDeleting?: boolean;
}

export const FeatureTable: React.FC<Props> = ({
  items,
  isLoading,
  onView,
  onEdit,
  onDelete,
  isDeleting,
}) => {
  return (
    <div className="overflow-hidden rounded-lg border border-slate-200 bg-white shadow">
      <table className="w-full">
        <FeatureTableHeader />
        <tbody className="divide-y divide-slate-200">
          {isLoading ? (
            <tr>
              <td colSpan={99} className="px-6 py-4 text-center">
                Äang táº£i...
              </td>
            </tr>
          ) : items.length === 0 ? (
            <tr>
              <td colSpan={99} className="px-6 py-4 text-center">
                KhÃ´ng cÃ³ dá»¯ liá»‡u
              </td>
            </tr>
          ) : (
            items.map((item) => (
              <FeatureTableRow
                key={item.id}
                item={item}
                onView={onView}
                onEdit={onEdit}
                onDelete={onDelete}
                isDeleting={isDeleting}
              />
            ))
          )}
        </tbody>
      </table>
    </div>
  );
};
```

#### Modal Component
```typescript
// components/ui/modal/Create<Feature>Modal.ui.tsx
'use client';

import React from 'react';
import { BaseModal } from '@/shared/components/manager/modal/BaseModal';
import { FeatureForm } from './FeatureForm.ui';
import { useFeatureForm } from '../../../hooks/useFeatureForm';
import type { FeatureType } from '../../../types';

interface Props {
  open: boolean;
  onClose: () => void;
  initData?: FeatureType | null;
  onSuccess?: () => void;
}

export const CreateFeatureModal: React.FC<Props> = ({
  open,
  onClose,
  initData,
  onSuccess,
}) => {
  const { form, isLoading, handleSubmit } = useFeatureForm({
    initData,
    open,
    onSuccess,
    onClose,
  });

  return (
    <BaseModal
      open={open}
      onClose={onClose}
      title={initData?.id ? 'Cáº­p nháº­t' : 'Táº¡o má»›i'}
      onOk={handleSubmit}
      onCancel={onClose}
      okText="LÆ°u"
      cancelText="Há»§y"
      centered
      size="large"
      confirmLoading={isLoading}
    >
      <FeatureForm 
        form={form} 
        isLoading={isLoading}
        isEdit={!!initData?.id}
      />
    </BaseModal>
  );
};
```

---

## ğŸ¨ UI Component Guidelines

### 1. **Shared Components Priority**
```typescript
// âœ… CORRECT - Use shared components first
import { BaseModal } from '@/shared/components/manager/modal/BaseModal';
import { InputField, TextareaField, CheckboxField } from '@/shared/components/manager/form/BaseForm';
import { ImageUpload } from '@/shared/components/common/ImageUpload';

// âŒ WRONG - Creating duplicate components
// Don't create new modal if BaseModal exists
```

### 2. **Image Handling**
```typescript
// âœ… CORRECT - Use next/image for optimization
import Image from 'next/image';

<Image
  src={imageUrl}
  alt="Description"
  width={40}
  height={40}
  className="object-cover"
/>

// âŒ WRONG - Using <img> tag
<img src={imageUrl} alt="Description" />
```

### 3. **Form Components**
```typescript
// Use shared form components
import { InputField, TextareaField, CheckboxField, SelectField } from '@/shared/components/manager/form/BaseForm';

// Form with TanStack Form
<InputField<FormValues>
  form={form as FormApiOf<FormValues>}
  name="fieldName"
  label="NhÃ£n"
  required
  placeholder="Placeholder"
/>
```

---

## ğŸ”Œ API Integration

### 1. **API Path Configuration**
```typescript
// src/core/config/api.path.ts
export const API_PATH = {
  // Auth
  AUTH: {
    LOGIN: '/auth/login',
    LOGOUT: '/auth/logout',
    REGISTER: '/auth/register',
  },
  
  // Service Group
  SERVICE_GROUP: {
    LIST: '/service-groups',
    DETAIL: '/service-groups',
    CREATE: '/service-groups',
    UPDATE: '/service-groups',
    DELETE: '/service-groups',
  },
  
  // Add more features...
} as const;
```

### 2. **HTTP Client Usage**
```typescript
// âœ… CORRECT
import { http } from '@core/http/client';
import { API_PATH } from '@core/config/api.path';

const response = await http.get(API_PATH.FEATURE.LIST);

// âŒ WRONG - Hardcoded URLs
const response = await http.get('https://api.example.com/features');
```

### 3. **Response Type Handling**
```typescript
import type { RestResponse, RestMany } from '@/types/rest';
import { getValuesPage } from '@/types/rest';

// Single item response
const response = await http.get<RestResponse<FeatureType>>(...);
const item = response.data.data;

// List response with pagination
const response = await http.get<RestMany<FeatureType>>(...);
const pageResult = getValuesPage(response.data);
const items = pageResult?.items || [];
const totalPages = pageResult?.totalPages || 1;
```

---

## ğŸ“¦ File Upload (AWS S3)

### 1. **AWS Configuration**
```typescript
// src/core/config/aws.config.ts
export const AWS_CONFIG = {
  REGION: process.env.NEXT_PUBLIC_AWS_REGION || 'ap-southeast-1',
  BUCKET: process.env.NEXT_PUBLIC_AWS_S3_BUCKET || 'your-bucket',
  
  FOLDERS: {
    SERVICE_GROUP_ICONS: 'service-groups/icons',
    PROFILE_IMAGES: 'profiles/images',
    DOCUMENTS: 'documents',
  },
  
  MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB
  ALLOWED_IMAGE_TYPES: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],
} as const;
```

### 2. **Using ImageUpload Component**
```typescript
import { ImageUpload } from '@/shared/components/common/ImageUpload';
import { AWS_CONFIG } from '@core/config/aws.config';

<form.Field name="iconUrl">
  {(field: any) => (
    <ImageUpload
      value={field.state.value as string}
      onChange={(url) => field.handleChange(url as never)}
      folder={AWS_CONFIG.FOLDERS.SERVICE_GROUP_ICONS}
      label="Icon"
      required
      disabled={isLoading}
    />
  )}
</form.Field>
```

---

## ğŸ­ State Management

### 1. **Local State** (useState)
```typescript
// Simple component state
const [isOpen, setIsOpen] = useState(false);
const [keyword, setKeyword] = useState('');
```

### 2. **Server State** (React Query)
```typescript
// Fetching and caching server data
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';

const { data, isLoading, error } = useQuery({
  queryKey: ['features', filters],
  queryFn: () => featureService.getList(filters),
});

const mutation = useMutation({
  mutationFn: (data) => featureService.create(data),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['features'] });
  },
});
```

### 3. **Global State** (Zustand)
```typescript
// modules/<feature>/stores/use<Feature>Store.ts
import { create } from 'zustand';

interface FeatureStore {
  items: FeatureType[];
  setItems: (items: FeatureType[]) => void;
}

export const useFeatureStore = create<FeatureStore>((set) => ({
  items: [],
  setItems: (items) => set({ items }),
}));
```

### 4. **Singleton Pattern** (Toast, etc.)
```typescript
// Using global toast
import { useGlobalToast } from '@core/patterns/SingletonHook';

const { addToast } = useGlobalToast();

addToast({
  message: 'ThÃ nh cÃ´ng!',
  type: 'success', // 'success' | 'error' | 'info' | 'warning'
});
```

---

## ğŸ¯ TypeScript Best Practices

### 1. **Type Definitions**
```typescript
// âœ… CORRECT - Explicit types
interface Props {
  id: string;
  name: string;
  isActive: boolean;
  onUpdate: (data: UpdateData) => void;
}

const Component: React.FC<Props> = ({ id, name, isActive, onUpdate }) => {
  // ...
};

// âŒ WRONG - Using any
const Component = ({ id, name }: any) => {
  // ...
};
```

### 2. **Generic Types**
```typescript
// Form fields with generic
<InputField<FormValues>
  form={form as FormApiOf<FormValues>}
  name="fieldName"
  // ...
/>

// API response with generic
const response = await http.get<RestResponse<FeatureType>>(...);
```

### 3. **Type Guards**
```typescript
// Type narrowing
if (data && 'items' in data) {
  // data is array type
}

// Nullish checking
const items = data?.items ?? [];
```

---

## ğŸ“ Naming Conventions

### 1. **Files & Directories**
```
kebab-case for files and folders:
- service-group.api.ts
- use-feature-form.ts
- create-modal.ui.tsx
```

### 2. **Components**
```typescript
PascalCase for React components:
- ServiceGroupListPage
- CreateServiceGroupModal
- ServiceGroupTable
```

### 3. **Functions & Variables**
```typescript
camelCase for functions and variables:
- getUserProfile()
- handleSubmit()
- isLoading
- selectedItem
```

### 4. **Constants**
```typescript
SCREAMING_SNAKE_CASE for constants:
- API_BASE_URL
- MAX_FILE_SIZE
- QUERY_KEYS
```

### 5. **Types & Interfaces**
```typescript
PascalCase for types and interfaces:
- ServiceGroup
- CreateServiceGroupRequest
- UseFeatureFormProps
```

---

## ğŸš« Prohibited Practices

### âŒ Don't Do This:

```typescript
// âŒ Hardcoding API URLs
fetch('https://api.example.com/users')

// âŒ Business logic in components
const MyComponent = () => {
  const data = await fetch(...).then(r => r.json());
  // complex calculations...
  // data transformation...
  return <div>...</div>
};

// âŒ Using any type
const handleChange = (value: any) => { ... };

// âŒ Inline styles (use Tailwind)
<div style={{ color: 'red', fontSize: '14px' }}>

// âŒ Direct img tag
<img src={url} />

// âŒ console.log in production code
console.log('debug:', data);

// âŒ Creating duplicate components
// Check shared components first!
```

### âœ… Do This Instead:

```typescript
// âœ… Use API_PATH
http.get(API_PATH.USERS.LIST)

// âœ… Extract logic to service/hook
const useUserData = () => {
  return useQuery({
    queryKey: ['users'],
    queryFn: userService.getList,
  });
};

// âœ… Proper typing
const handleChange = (value: string) => { ... };

// âœ… Tailwind classes
<div className="text-red-500 text-sm">

// âœ… next/image
<Image src={url} alt="..." width={100} height={100} />

// âœ… Use logger or remove
// logger.debug('data:', data);
```

---

## âš¡ Performance Guidelines

### 1. **Code Splitting**
```typescript
// Dynamic imports for heavy components
const HeavyComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <LoadingSkeleton />,
});
```

### 2. **Memoization**
```typescript
// Memoize expensive components
import { memo } from 'react';

export const ExpensiveComponent = memo<Props>(({ data }) => {
  // ...
});

// Memoize expensive calculations
const expensiveValue = useMemo(() => {
  return heavyCalculation(data);
}, [data]);
```

### 3. **React Query Cache**
```typescript
// Configure cache times
export const CACHE_TIME = 5 * 60 * 1000; // 5 minutes
export const STALE_TIME = 1 * 60 * 1000; // 1 minute

useQuery({
  queryKey: ['data'],
  queryFn: fetchData,
  gcTime: CACHE_TIME,
  staleTime: STALE_TIME,
});
```

---

## ğŸ§ª Testing Guidelines

### 1. **Unit Tests**
```typescript
// Component tests
describe('FeatureComponent', () => {
  it('should render correctly', () => {
    // ...
  });
  
  it('should handle user interaction', () => {
    // ...
  });
});
```

### 2. **Integration Tests**
```typescript
// API integration tests
describe('FeatureService', () => {
  it('should fetch data correctly', async () => {
    // ...
  });
});
```

---

## ğŸ“š Additional Resources

### Key Files to Reference:
- `src/core/config/api.path.ts` - API endpoints
- `src/core/http/client.ts` - HTTP client
- `src/types/rest.ts` - Response types
- `src/shared/components/` - Reusable components
- `src/modules/manager/service-group/` - Example module

### Documentation:
- Next.js 15: https://nextjs.org/docs
- React Query: https://tanstack.com/query/latest
- TanStack Form: https://tanstack.com/form/latest
- Tailwind CSS: https://tailwindcss.com/docs

---

## âœ¨ Summary Checklist

Before committing code, ensure:

- [ ] âœ… All API endpoints defined in `API_PATH`
- [ ] âœ… Business logic in service layer
- [ ] âœ… UI logic extracted to custom hooks when complex
- [ ] âœ… Components follow naming convention (`.ui.tsx`)
- [ ] âœ… Components are small and focused (single responsibility)
- [ ] âœ… TypeScript types are properly defined
- [ ] âœ… Using shared components where possible
- [ ] âœ… Images use `next/image` component
- [ ] âœ… No `any` types (or properly justified with eslint-disable)
- [ ] âœ… No hardcoded strings (use constants)
- [ ] âœ… Toast notifications use `useGlobalToast`
- [ ] âœ… Forms use TanStack Form
- [ ] âœ… Server state uses React Query
- [ ] âœ… Code passes linter without errors
- [ ] âœ… UI content in Vietnamese
- [ ] âœ… Proper error handling

---