# Manager Module

Báº£ng Ä‘iá»u khiá»ƒn dÃ nh cho quáº£n lÃ½ há»‡ thá»‘ng PASCS vá»›i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng quáº£n lÃ½ nhÃ¢n sá»±, dá»‹ch vá»¥, hÃ ng Ä‘á»£i vÃ  giÃ¡m sÃ¡t há»‡ thá»‘ng.

## TÃ­nh nÄƒng chÃ­nh

### ğŸ¯ Dashboard quáº£n lÃ½
- **Tá»•ng quan há»‡ thá»‘ng**: Thá»‘ng kÃª tá»•ng quan vá» nhÃ¢n sá»±, dá»‹ch vá»¥, hÃ ng Ä‘á»£i
- **Biá»ƒu Ä‘á»“ thá»i gian thá»±c**: Hiá»‡u suáº¥t lÃ m viá»‡c, tÃ¬nh tráº¡ng há»‡ thá»‘ng
- **ThÃ´ng bÃ¡o quan trá»ng**: Cáº£nh bÃ¡o há»‡ thá»‘ng, bÃ¡o cÃ¡o lá»—i

### ğŸ‘¥ Quáº£n lÃ½ nhÃ¢n sá»±
- **Danh sÃ¡ch nhÃ¢n viÃªn**: Quáº£n lÃ½ thÃ´ng tin táº¥t cáº£ nhÃ¢n viÃªn trong há»‡ thá»‘ng
- **PhÃ¢n quyá»n & Vai trÃ²**: Thiáº¿t láº­p quyá»n háº¡n cho tá»«ng vai trÃ² (Admin, Staff, Citizen)
- **Hiá»‡u suáº¥t lÃ m viá»‡c**: Theo dÃµi hiá»‡u suáº¥t vÃ  Ä‘Ã¡nh giÃ¡ nhÃ¢n viÃªn
- **Thá»‘ng kÃª hoáº¡t Ä‘á»™ng**: BÃ¡o cÃ¡o chi tiáº¿t vá» hoáº¡t Ä‘á»™ng cá»§a nhÃ¢n viÃªn

### ğŸ¢ Quáº£n lÃ½ dá»‹ch vá»¥
- **Danh má»¥c dá»‹ch vá»¥**: Quáº£n lÃ½ cÃ¡c loáº¡i dá»‹ch vá»¥ cÃ´ng cung cáº¥p
- **Cáº¥u hÃ¬nh quy trÃ¬nh**: Thiáº¿t láº­p quy trÃ¬nh xá»­ lÃ½ cho tá»«ng dá»‹ch vá»¥
- **Quy táº¯c xáº¿p hÃ ng**: Äá»‹nh nghÄ©a logic xáº¿p hÃ ng vÃ  Æ°u tiÃªn
- **Thá»i gian xá»­ lÃ½**: Thiáº¿t láº­p thá»i gian xá»­ lÃ½ má»¥c tiÃªu cho tá»«ng dá»‹ch vá»¥

### âš™ï¸ Thiáº¿t láº­p hoáº¡t Ä‘á»™ng
- **Giá» lÃ m viá»‡c**: Cáº¥u hÃ¬nh lá»‹ch lÃ m viá»‡c cá»§a há»‡ thá»‘ng
- **Giá»›i háº¡n hÃ ng Ä‘á»£i**: Thiáº¿t láº­p giá»›i háº¡n sá»‘ lÆ°á»£ng ngÆ°á»i chá»
- **Quáº§y phá»¥c vá»¥**: Quáº£n lÃ½ cÃ¡c quáº§y phá»¥c vá»¥ vÃ  phÃ¢n bá»• nhÃ¢n viÃªn
- **Quy táº¯c Ä‘áº·c biá»‡t**: Thiáº¿t láº­p cho cÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t

### ğŸ“Š GiÃ¡m sÃ¡t thá»i gian thá»±c
- **TÃ¬nh tráº¡ng hÃ ng Ä‘á»£i**: Theo dÃµi real-time tÃ¬nh tráº¡ng cÃ¡c hÃ ng Ä‘á»£i
- **Táº£i há»‡ thá»‘ng**: GiÃ¡m sÃ¡t hiá»‡u suáº¥t vÃ  táº£i cá»§a há»‡ thá»‘ng
- **Æ¯u tiÃªn nhÃ³m Ä‘áº·c biá»‡t**: Quáº£n lÃ½ Æ°u tiÃªn cho cÃ¡c nhÃ³m Ä‘áº·c biá»‡t
- **Cáº£nh bÃ¡o tá»± Ä‘á»™ng**: ThÃ´ng bÃ¡o khi cÃ³ sá»± cá»‘ hoáº·c báº¥t thÆ°á»ng

### ğŸ“ˆ Thá»‘ng kÃª & BÃ¡o cÃ¡o
- **BÃ¡o cÃ¡o tá»•ng há»£p**: Thá»‘ng kÃª tá»•ng quan vá» hoáº¡t Ä‘á»™ng há»‡ thá»‘ng
- **BÃ¡o cÃ¡o chi tiáº¿t**: PhÃ¢n tÃ­ch sÃ¢u vá» hiá»‡u suáº¥t tá»«ng bá»™ pháº­n
- **Xuáº¥t dá»¯ liá»‡u**: Export bÃ¡o cÃ¡o dÆ°á»›i nhiá»u Ä‘á»‹nh dáº¡ng
- **Lá»‹ch sá»­ hoáº¡t Ä‘á»™ng**: Theo dÃµi lá»‹ch sá»­ thay Ä‘á»•i vÃ  hoáº¡t Ä‘á»™ng

### ğŸ« Quáº£n lÃ½ hÃ ng Ä‘á»£i
- **TÃ¬nh tráº¡ng hÃ ng chá»**: GiÃ¡m sÃ¡t real-time tÃ¬nh tráº¡ng cÃ¡c hÃ ng Ä‘á»£i
- **Thá»‘ng kÃª hÃ ng Ä‘á»£i**: PhÃ¢n tÃ­ch hiá»‡u suáº¥t vÃ  thá»i gian chá»
- **Äiá»u chá»‰nh Æ°u tiÃªn**: Thay Ä‘á»•i thá»© tá»± Æ°u tiÃªn khi cáº§n thiáº¿t
- **Quáº£n lÃ½ quáº§y**: PhÃ¢n bá»• vÃ  quáº£n lÃ½ cÃ¡c quáº§y phá»¥c vá»¥

## Cáº¥u trÃºc module

```
src/modules/manager/
â”œâ”€â”€ account/                  # Quáº£n lÃ½ nhÃ¢n sá»±
â”‚   â”œâ”€â”€ api/                 # API calls
â”‚   â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ services/            # Business logic
â”‚   â”œâ”€â”€ hooks/               # Custom hooks
â”‚   â”œâ”€â”€ types.ts            # TypeScript definitions
â”‚   â”œâ”€â”€ consts.ts           # Constants & mock data
â”‚   â”œâ”€â”€ enums.ts            # Enumerations
â”‚   â””â”€â”€ utils/              # Utility functions
â”œâ”€â”€ dashboard/               # Dashboard chÃ­nh
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ types.ts
â”œâ”€â”€ queue/                   # Quáº£n lÃ½ hÃ ng Ä‘á»£i
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ types.ts
â”œâ”€â”€ services/                # Quáº£n lÃ½ dá»‹ch vá»¥
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ types.ts
â”œâ”€â”€ counters/                # Quáº£n lÃ½ quáº§y phá»¥c vá»¥
â”œâ”€â”€ index.ts                # Module exports
â””â”€â”€ README.md               # Documentation
```

## Routes

### Dashboard
- `/manager` - Dashboard chÃ­nh vá»›i tá»•ng quan há»‡ thá»‘ng

### Quáº£n lÃ½ nhÃ¢n sá»±
- `/manager/account/list` - Danh sÃ¡ch nhÃ¢n viÃªn
- `/manager/account/roles` - PhÃ¢n quyá»n & Vai trÃ²
- `/manager/account/performance` - Hiá»‡u suáº¥t lÃ m viá»‡c

### Quáº£n lÃ½ dá»‹ch vá»¥
- `/manager/service/list` - Danh má»¥c dá»‹ch vá»¥
- `/manager/service/config` - Cáº¥u hÃ¬nh quy trÃ¬nh phá»¥c vá»¥
- `/manager/service/queue` - Quy táº¯c xáº¿p hÃ ng

### Thiáº¿t láº­p hoáº¡t Ä‘á»™ng
- `/manager/operation/hours` - Giá» lÃ m viá»‡c
- `/manager/operation/limits` - Giá»›i háº¡n sá»‘ lÆ°á»£ng hÃ ng chá»
- `/manager/operation/counter` - Quáº§y phá»¥c vá»¥

### GiÃ¡m sÃ¡t thá»i gian thá»±c
- `/manager/monitoring/queue` - TÃ¬nh tráº¡ng hÃ ng chá»
- `/manager/monitoring/manager` - Táº£i há»‡ thá»‘ng
- `/manager/monitoring/special` - Æ¯u tiÃªn nhÃ³m Ä‘áº·c biá»‡t

### Quáº£n lÃ½ hÃ ng Ä‘á»£i
- `/manager/queue/status` - TÃ¬nh tráº¡ng hÃ ng chá»
- `/manager/queue/statistics` - Thá»‘ng kÃª hÃ ng Ä‘á»£i

### Thá»‘ng kÃª & BÃ¡o cÃ¡o
- `/manager/reporting` - BÃ¡o cÃ¡o tá»•ng há»£p

## CÃ¡ch sá»­ dá»¥ng

### 1. Truy cáº­p Dashboard
```typescript
import { ManagerDashboard } from '@modules/manager/dashboard';

export default function Page() {
    return <ManagerDashboard />;
}
```

### 2. Sá»­ dá»¥ng cÃ¡c component riÃªng láº»
```typescript
import {
    AccountList,
    ServiceConfig,
    QueueStatus,
    SystemMonitoring
} from '@modules/manager';
```

### 3. Sá»­ dá»¥ng API services
```typescript
import { 
    accountService,
    serviceService,
    queueService 
} from '@modules/manager';

// Quáº£n lÃ½ nhÃ¢n sá»±
const accounts = await accountService.getAccounts();
await accountService.updateAccount({
    id: 'acc_001',
    name: 'Nguyá»…n VÄƒn A',
    roles: ['STAFF'],
    status: 'ACTIVE'
});

// Quáº£n lÃ½ dá»‹ch vá»¥
const services = await serviceService.getServices();
await serviceService.updateService({
    id: 'svc_001',
    name: 'Cáº¥p giáº¥y phÃ©p lÃ¡i xe',
    status: 'ACTIVE',
    processingTime: 30
});

// Quáº£n lÃ½ hÃ ng Ä‘á»£i
const queueStatus = await queueService.getQueueStatus();
await queueService.updateQueuePriority({
    queueId: 'q_001',
    priority: 'HIGH'
});
```

### 4. Sá»­ dá»¥ng Zustand stores
```typescript
import { 
    useAccountStore,
    useServiceStore,
    useQueueStore 
} from '@modules/manager';

function MyComponent() {
    const { accounts, setAccounts, updateAccount } = useAccountStore();
    const { services, setServices } = useServiceStore();
    const { queueStatus, setQueueStatus } = useQueueStore();

    // Use store methods...
}
```

### 5. Sá»­ dá»¥ng Custom Hooks
```typescript
import { usePolling } from '@modules/manager/account/hooks';

function AccountList() {
    // Auto-refresh má»—i 2 giÃ¢y
    const { data: accounts } = usePolling(
        accountService.getAccounts, 
        2000
    );

    return <AccountTable data={accounts} />;
}
```

## Mock Data

Module bao gá»“m dá»¯ liá»‡u giáº£ Ä‘á»ƒ phÃ¡t triá»ƒn vÃ  testing:

- `MOCK_ACCOUNTS`: Danh sÃ¡ch nhÃ¢n viÃªn máº«u
- `MOCK_SERVICES`: Danh má»¥c dá»‹ch vá»¥ máº«u
- `MOCK_QUEUES`: TÃ¬nh tráº¡ng hÃ ng Ä‘á»£i máº«u
- `MOCK_DASHBOARD_STATS`: Thá»‘ng kÃª dashboard

## API Integration

Äá»ƒ tÃ­ch há»£p vá»›i API tháº­t, cáº­p nháº­t cÃ¡c function trong cÃ¡c file API:

```typescript
// src/modules/manager/account/api/account.api.ts
import { http } from "@core/http/client";
import { API_PATH } from "@shared/const/api.path";

export const accountApi = {
    async getAccounts(filters?: AccountFilters) {
        const response = await http.get(API_PATH.MANAGER.ACCOUNT.LIST, {
            params: filters
        });
        return response.data;
    },

    async updateAccount(id: string, data: UpdateAccountRequest) {
        const response = await http.put(
            `${API_PATH.MANAGER.ACCOUNT.UPDATE}/${id}`,
            data
        );
        return response.data;
    }
};
```

## TÃ­nh nÄƒng nÃ¢ng cao

### Real-time Monitoring
- WebSocket integration cho giÃ¡m sÃ¡t thá»i gian thá»±c
- Auto-refresh dashboard má»—i 5 giÃ¢y
- Push notifications cho cÃ¡c sá»± kiá»‡n quan trá»ng

### Performance Optimization
- Lazy loading cho danh sÃ¡ch dÃ i
- Virtual scrolling cho 1000+ records
- Optimized re-renders vá»›i React.memo
- Efficient polling vá»›i usePolling hook

### Security & Permissions
- Role-based access control (RBAC)
- Permission validation cho tá»«ng action
- Audit logging cho táº¥t cáº£ thay Ä‘á»•i
- Secure API endpoints vá»›i authentication

### Data Management
- Optimistic updates cho UX tá»‘t hÆ¡n
- Error handling vÃ  retry logic
- Data caching vá»›i TanStack Query
- Offline support vá»›i service workers

## Testing

```bash
# Cháº¡y tests cho manager module
npm test -- src/modules/manager/

# Cháº¡y E2E tests
npm run test:e2e -- --spec manager-dashboard.spec.ts

# Test coverage
npm run test:coverage -- src/modules/manager/
```

## Dependencies

- React 19
- Next.js 15
- Tailwind CSS v4
- Zustand (state management)
- TanStack Query (server state)
- Lucide React (icons)
- Recharts (charts & graphs)

## Contributing

1. Follow existing code style vÃ  conventions
2. Add TypeScript types cho táº¥t cáº£ props vÃ  functions
3. Include comprehensive error handling
4. Add unit tests cho new features
5. Update documentation vÃ  README
6. Ensure accessibility compliance
7. Test vá»›i different screen sizes
8. Validate vá»›i ESLint vÃ  Prettier

## Architecture Notes

### State Management
- **Global State**: Zustand stores cho cross-module data
- **Local State**: React useState cho component-specific state
- **Server State**: TanStack Query cho API data caching
- **Form State**: React Hook Form cho complex forms

### Performance Considerations
- **Code Splitting**: Dynamic imports cho large components
- **Memoization**: React.memo cho expensive components
- **Virtual Scrolling**: Cho large data tables
- **Debounced Search**: Cho search vÃ  filter operations

### Security Best Practices
- **Input Validation**: Client vÃ  server-side validation
- **XSS Protection**: Sanitize user inputs
- **CSRF Protection**: Token-based requests
- **Rate Limiting**: Prevent API abuse
